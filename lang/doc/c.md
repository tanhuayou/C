# C笔记
----------
### 函数调用 ###
|   调用方式    |   堆栈清除    |   参数传递        |
|:------------:|:------------:|:-----------------:|
|   __cdecl    |    调用者     |从右到左,通过堆栈传递|
|   __stdcall  |    函数体     |从右到左,通过堆栈传递|
|   __fastcall |    函数体     |从右到左,优先使用寄存器(ECX,EDX),然后使用堆栈|
|   thiscall   |    函数体     |this指针默认通过ECX传递,其它参数从右到左入栈|


----------
### 运算符优先级 ###
由上至下优先级递减

|运算符     |名称       |结合性    |
|:---------:|:---------:|:------------:|
|() [] -> . |前述运算符 |自左向右 ->   |
|! & ~ - * ++ -- sizeof|单目运算符 |自右向左  **<-** |
| * % /    |算术运算符 |自左向右 ->   |
| + -      |算术运算符 |自左向右 ->   |
| <<  >>    |移位运算符 |自左向右 ->   |
| \> \>= < <=|关系运算符 |自左向右 ->   |
|  == !=    |关系运算符 |自左向右 ->   |
|  &        |逻辑运算符 |自左向右 ->   |
|  ^        |逻辑运算符 |自左向右 ->   |
|  \|       |逻辑运算符 |自左向右 ->   |
|  &&       |逻辑运算符 |自左向右 ->   |
|  \|\|     |逻辑运算符 |自左向右 ->   |
|  ?:       |条件运算符 |自右向左 <-   |
|  =        |赋值运算符 |自右向左 <-   |
|  ,        |逗号运算符 |自左向右 ->   |


```C
    int a = 1;
    int b = 2;
    int c = 4;
    int d = (int)sizeof(c = a + b);
    printf("a=%d,b=%d,c=%d,d=%d\n",a,b,c,d );
    // a=1,b=2,c=4,d=4
    // sizeof 是符号而不是函数
```

----------
### 类型转换 ###
> * 在表达式中，short和char都会被转换为int(unsigned int);float被转为double。
> * 在任何两种类型的操作中，等级较低的类型会被转换为较高的类型。
> * 在赋值语句中，会先把=右边的数据类型转换为左边的类型。

----
### * 的三种作用
>* 其左右都是数字的话，那这个 * 指代数学意义上的乘
>* 其右边是一个地址的话，那这个 * 将对地址进行间接引用
>* 用在定义的时候，定义一个指针变量
---
### [] 的三种作用
>* 在定义时,定义数组
>* array[i]时下标运算
>* 在函数的形参中则代表指针,注意以下两种情况
```C
void fun(char arr[2]){...}//此处的arr代表指针,一个指向char型的指针,数字2没有实际意义.
void fun(char arr[][4]){...}//此处arr代表指针,一个指向具有4个元素的数组指针,4不能省略.
```
---
### 函数指针
>* 函数调用：funAddress(param_list)
>* 函数名是一个地址
##### 函数指针定义
```cmd
[void|int|...] (*pFun)(param_list) = &fun;
```
----
